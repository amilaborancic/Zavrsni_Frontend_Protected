{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Azra\\\\Desktop\\\\Zavrsni_Frontend_Protected\\\\src\\\\HomePage.js\";\nimport React from \"react\";\nimport Title from \"./Title\";\nimport SubTitle from \"./SubTitle\";\nimport PhoneImage from \"./PhoneImage\";\nimport Footer from \"./Footer\";\nimport { Link, Redirect } from 'react-router-dom';\nimport axios from \"axios\";\nimport \"bootstrap\";\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n    this._isMounted = false;\n\n    this.handleRedirect = () => {\n      if (this._isMounted && this.state.redirectaj) return React.createElement(Redirect, {\n        to: \"/profile\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 22\n        },\n        __self: this\n      });\n    };\n\n    this.handleClickLogIn = e => {\n      e.preventDefault(); //ovdje ubaciti validacije za broken auth\n\n      var user = e.target;\n\n      if (user.email.value == \"\" && user.pass.value == \"\" || user.email.value != \"\" && user.pass.value == \"\" || user.email.value == \"\" && user.pass.value != \"\") {\n        this.setState({\n          porukica: \"Both fields must be filled!\",\n          visibility: \"visible\"\n        });\n      } else {\n        //moze se desiti da pogresno sifru unese\n        this.setState({\n          porukica: \"\",\n          visibility: \"hidden\"\n        });\n        axios.post(\"https://zavrsni2019-backend-protected.herokuapp.com/login\", {\n          email: user.email.value,\n          password: user.pass.value\n        }).then(res => {\n          if (this._isMounted) {\n            if (res.data.success) {\n              //upisemo u localstorage\n              console.log(res.data.data[0].user_id);\n              window.localStorage.setItem('userId', res.data.data[0].user_id);\n              window.localStorage.setItem('name', res.data.data[0].name);\n              window.localStorage.setItem('last_name', res.data.data[0].last_name);\n              window.localStorage.setItem('address', res.data.data[0].address);\n              window.localStorage.setItem('phone', res.data.data[0].phone);\n              window.localStorage.setItem('credit_card', res.data.data[0].credit_card);\n              window.localStorage.setItem('email', res.data.data[0].email);\n              this.setState({\n                class: \"\",\n                porukica: \"\",\n                visibility: \"hidden\",\n                redirectaj: true\n              });\n              this.props.history.push(\"/profile\");\n              return React.createElement(Redirect, {\n                to: \"/profile\",\n                __source: {\n                  fileName: _jsxFileName,\n                  lineNumber: 74\n                },\n                __self: this\n              });\n            } else {\n              //email i pass dont match\n              this.setState({\n                porukica: \"Wrong credentials!\",\n                visibility: \"visible\"\n              });\n            }\n          }\n        }).catch(err => {\n          console.log(err);\n          this.setState({\n            porukica: \"Wrong credentials!\",\n            visibility: \"visible\"\n          });\n        });\n      }\n    };\n\n    this.state = {\n      redirectaj: false,\n      class: \"\",\n      porukica: \"\"\n    };\n  }\n\n  componentDidMount() {\n    window.localStorage.clear();\n    this._isMounted = true;\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-fluid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(Title, {\n      text: \"#TECH\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(SubTitle, {\n      text: \"New thinking. New #tech.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        visibility: \"hidden\",\n        fontSize: \"30px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"d\")), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-12 col-sm-12 col-xs-12 \",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, React.createElement(PhoneImage, {\n      style: {\n        width: \"550px\",\n        height: \"600px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"col-lg-6 col-md-12 col-sm-12 col-xs-12 d-flex flex-row align-items-lg-center align-items-md-stretch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col align-items-center my-md-5 my-sm-5 my-xs-5\",\n      onSubmit: this.handleClickLogIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      style: {\n        fontSize: \"50px\",\n        fontWeight: \"bold\",\n        color: \"#666666\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, \"W E L C O M E\")), React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.handleClickLogIn,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      placeholder: \"Email\",\n      name: \"email\",\n      id: \"emailLogin\",\n      className: \"form-control\",\n      style: {\n        marginTop: \"10px\",\n        width: \"450px\",\n        height: \"50px\",\n        color: \"#434343\",\n        fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\",\n        fontEeight: \"lighter\",\n        border: \"1px solid #dddddd\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 124\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"password\",\n      placeholder: \"Password\",\n      name: \"pass\",\n      id: \"passwordLogin\",\n      className: \"form-control\",\n      style: {\n        marginTop: \"20px\",\n        width: \"450px\",\n        height: \"50px\",\n        color: \"#434343\",\n        fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\",\n        fontEeight: \"lighter\",\n        border: \"1px solid #dddddd\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      id: \"both\",\n      name: \"both\",\n      hidden: true,\n      className: \"form-control is-invalid\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"invalid-feedback\",\n      htmlFor: \"#both\",\n      style: {\n        visibility: this.state.visibility\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, this.state.porukica), React.createElement(Link, {\n      to: \"/register\",\n      style: {\n        marginTop: \"10px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"New user? Register here.\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      type: \"submit\",\n      style: {\n        width: \"200px\",\n        height: \"50px\",\n        borderRadius: \"10px\",\n        backgroundColor: \"#2d2d2d\",\n        borderColor: \"#2d2d2d\",\n        fontSize: \"20px\",\n        color: \"white\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, \"LOG IN\"))))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Home;","map":{"version":3,"sources":["C:\\Users\\Azra\\Desktop\\Zavrsni_Frontend_Protected\\src\\HomePage.js"],"names":["React","Title","SubTitle","PhoneImage","Footer","Link","Redirect","axios","Home","Component","constructor","_isMounted","handleRedirect","state","redirectaj","handleClickLogIn","e","preventDefault","user","target","email","value","pass","setState","porukica","visibility","post","password","then","res","data","success","console","log","user_id","window","localStorage","setItem","name","last_name","address","phone","credit_card","class","props","history","push","catch","err","componentDidMount","clear","componentWillUnmount","render","fontSize","width","height","fontWeight","color","marginTop","fontFamily","fontEeight","border","borderRadius","backgroundColor","borderColor"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Title from \"./Title\";\r\nimport SubTitle from \"./SubTitle\";\r\nimport PhoneImage from \"./PhoneImage\";\r\nimport Footer from \"./Footer\";\r\nimport { Link, Redirect, } from 'react-router-dom';\r\nimport axios from \"axios\";\r\nimport \"bootstrap\";\r\n\r\nclass Home extends React.Component {\r\n    _isMounted = false;\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            redirectaj: false,\r\n            class: \"\",\r\n            porukica: \"\"\r\n        }\r\n    }\r\n    handleRedirect = () => {\r\n\r\n        if (this._isMounted && this.state.redirectaj) return <Redirect to=\"/profile\" />\r\n    }\r\n    componentDidMount() {\r\n        window.localStorage.clear();\r\n        this._isMounted = true;\r\n\r\n    }\r\n    componentWillUnmount() {\r\n        this._isMounted = false;\r\n    }\r\n    handleClickLogIn = (e) => {\r\n        e.preventDefault();\r\n        //ovdje ubaciti validacije za broken auth\r\n        var user = e.target;\r\n        if ((user.email.value == \"\" && user.pass.value == \"\") || (user.email.value != \"\" && user.pass.value == \"\") || (user.email.value == \"\" && user.pass.value != \"\")) {\r\n\r\n            this.setState({\r\n                porukica: \"Both fields must be filled!\",\r\n                visibility: \"visible\"\r\n            })\r\n        }\r\n        else {\r\n            //moze se desiti da pogresno sifru unese\r\n            this.setState({\r\n                porukica: \"\",\r\n                visibility: \"hidden\"\r\n            })\r\n            axios\r\n                .post(\"https://zavrsni2019-backend-protected.herokuapp.com/login\", {\r\n                    email: user.email.value,\r\n                    password: user.pass.value\r\n                })\r\n                .then(res => {\r\n                    if (this._isMounted) {\r\n                        if (res.data.success) {\r\n                            //upisemo u localstorage\r\n                            console.log(res.data.data[0].user_id);\r\n                            window.localStorage.setItem('userId', res.data.data[0].user_id)\r\n                            window.localStorage.setItem('name', res.data.data[0].name);\r\n                            window.localStorage.setItem('last_name', res.data.data[0].last_name);\r\n                            window.localStorage.setItem('address', res.data.data[0].address);\r\n                            window.localStorage.setItem('phone', res.data.data[0].phone);\r\n                            window.localStorage.setItem('credit_card', res.data.data[0].credit_card);\r\n                            window.localStorage.setItem('email', res.data.data[0].email);\r\n                            this.setState({\r\n                                class: \"\",\r\n                                porukica: \"\",\r\n                                visibility: \"hidden\",\r\n                                redirectaj: true\r\n                            })\r\n                            \r\n                            this.props.history.push(\"/profile\");\r\n                            return <Redirect to=\"/profile\"></Redirect>\r\n                        }\r\n                        else {\r\n                            //email i pass dont match\r\n                            this.setState({\r\n                                porukica: \"Wrong credentials!\",\r\n                                visibility: \"visible\"\r\n                            })\r\n                        }\r\n                    }\r\n                })\r\n                .catch(err => {\r\n                    console.log(err);\r\n                    this.setState({\r\n                        porukica: \"Wrong credentials!\",\r\n                        visibility: \"visible\"\r\n                    })\r\n                })\r\n\r\n        }\r\n\r\n    }\r\n    render() {\r\n        return (\r\n\r\n            <div>\r\n                <div className=\"container-fluid\" >\r\n                    <div className=\"row justify-content-center\">\r\n                        <Title text=\"#TECH\" />\r\n                    </div>\r\n                    <div className=\"row justify-content-center\">\r\n                        <SubTitle text=\"New thinking. New #tech.\" />\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div style={{ visibility: \"hidden\", fontSize: \"30px\" }}>d</div>\r\n                    </div>\r\n                    <div className=\"row\">\r\n                        <div className=\"col-lg-6 col-md-12 col-sm-12 col-xs-12 \">\r\n                            <div className=\"d-flex justify-content-center\" >\r\n                                <PhoneImage style={{ width: \"550px\", height: \"600px\" }} />\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"col-lg-6 col-md-12 col-sm-12 col-xs-12 d-flex flex-row align-items-lg-center align-items-md-stretch\">\r\n                            <div className=\"col align-items-center my-md-5 my-sm-5 my-xs-5\" onSubmit={this.handleClickLogIn}>\r\n\r\n                                <div className=\"d-flex justify-content-center\" >\r\n                                    <h1 style={{ fontSize: \"50px\", fontWeight: \"bold\", color: \"#666666\" }}>W E L C O M E</h1>\r\n                                </div>\r\n                                <div className=\"d-flex justify-content-center\">\r\n                                    <form onSubmit={this.handleClickLogIn}>\r\n                                        <input type=\"text\" placeholder=\"Email\" name=\"email\" id=\"emailLogin\" className=\"form-control\"\r\n                                            style={{\r\n                                                marginTop: \"10px\",\r\n                                                width: \"450px\",\r\n                                                height: \"50px\",\r\n                                                color: \"#434343\",\r\n                                                fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\",\r\n                                                fontEeight: \"lighter\",\r\n                                                border: \"1px solid #dddddd\"\r\n                                            }} />\r\n                                        <input type=\"password\" placeholder=\"Password\" name=\"pass\" id=\"passwordLogin\" className=\"form-control\"\r\n                                            style={{\r\n                                                marginTop: \"20px\",\r\n                                                width: \"450px\",\r\n                                                height: \"50px\",\r\n                                                color: \"#434343\",\r\n                                                fontFamily: \"-apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif\",\r\n                                                fontEeight: \"lighter\",\r\n                                                border: \"1px solid #dddddd\"\r\n                                            }} />\r\n                                        <input id=\"both\" name=\"both\" hidden className=\"form-control is-invalid\"></input>\r\n                                        <div className=\"invalid-feedback\" htmlFor=\"#both\" style={{ visibility: this.state.visibility }}>{this.state.porukica}</div>\r\n\r\n                                        <Link to=\"/register\" style={{ marginTop: \"10px\" }}>New user? Register here.</Link>\r\n\r\n                                        <br></br>\r\n                                        <button\r\n                                            type=\"submit\"\r\n                                            style={{\r\n                                                width: \"200px\",\r\n                                                height: \"50px\",\r\n                                                borderRadius: \"10px\",\r\n                                                backgroundColor: \"#2d2d2d\",\r\n                                                borderColor: \"#2d2d2d\",\r\n                                                fontSize: \"20px\",\r\n                                                color: \"white\"\r\n                                            }}\r\n                                        >LOG IN</button>\r\n                                    </form>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n\r\n                <Footer />\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default Home;"]},"metadata":{},"sourceType":"module"}