{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Azra\\\\Desktop\\\\Amila\\\\college stuff\\\\Zavrsni\\\\#tech\\\\pokusaj\\\\src\\\\Shop.js\";\nimport React from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport Item from \"./Item\";\nimport SearchBar from \"./SearchBar\";\nimport axios from \"axios\";\n\nclass Shop extends React.Component {\n  constructor() {\n    super();\n\n    this.handleChange = () => {};\n\n    this.addToCart = itemId => {\n      axios.post(\"http://localhost:8080/cart/add\", {\n        cartId: this.state.cartId,\n        itemId: itemId\n      }).then(res => {\n        if (res.data.success) {\n          this.setState({\n            show: \"visible\"\n          }); //stavimo u localstorage \n\n          /*var names = [];\r\n          names[0] = prompt(\"New member name?\");\r\n          localStorage.setItem(\"names\", JSON.stringify(names));\r\n            //...\r\n          var storedNames = JSON.parse(localStorage.getItem(\"names\"));*/\n\n          if (window.localStorage.getItem(\"addedToCart\") == null) {\n            var addedToCart = [];\n            addedToCart[0] = res.data.data.insertId;\n            localStorage.setItem(\"addedToCart\", JSON.stringify(addedToCart));\n          } else {\n            //dodamo u niz addedToCart novi id\n            var novi = localStorage.getItem(\"addedToCart\").push(res.data.data.insertId);\n            console.log(novi);\n            localStorage.setItem(\"addedToCart\", JSON.stringify(novi));\n          }\n        }\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.state = {\n      items: [],\n      userId: window.localStorage.getItem(\"userId\"),\n      cartId: window.localStorage.getItem(\"cartId\"),\n      show: \"hidden\",\n      addedToCart: []\n    };\n  }\n\n  componentDidMount() {\n    axios.get(\"http://localhost:8080/items\").then(res => {\n      console.log(res.data.success);\n\n      if (res.data.success) {\n        console.log(res.data.data);\n        this.setState({\n          items: res.data.data\n        });\n      }\n    }).catch(err => {\n      console.log(err);\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container-fluid\",\n      style: {\n        backgroundColor: \"#efefef\",\n        fontFamily: \"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif\",\n        minHeight: \"calc(100vh - 80px)\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex justify-content-center\",\n      style: {\n        width: \"100%\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"d-flex align-items-center\",\n      style: {\n        flexDirection: \"column\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(SearchBar, {\n      onChange: this.handleChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }))), React.createElement(\"div\", {\n      className: \"row mt-5 mx-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, this.state.items.map(x => React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      class: \"valid-feedback\",\n      style: {\n        visibility: this.props.poruka,\n        backgroundColor: \"white\",\n        width: \"300px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, \"Successfully added to cart.\"), React.createElement(Item, {\n      itemName: x.name,\n      itemPrice: x.price + \"$\",\n      value: \"ADD TO CART\",\n      onClick: () => this.addToCart(x.item_id),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96\n      },\n      __self: this\n    }))))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Shop;","map":{"version":3,"sources":["C:\\Users\\Azra\\Desktop\\Amila\\college stuff\\Zavrsni\\#tech\\pokusaj\\src\\Shop.js"],"names":["React","Header","Footer","Item","SearchBar","axios","Shop","Component","constructor","handleChange","addToCart","itemId","post","cartId","state","then","res","data","success","setState","show","window","localStorage","getItem","addedToCart","insertId","setItem","JSON","stringify","novi","push","console","log","catch","err","items","userId","componentDidMount","get","render","backgroundColor","fontFamily","minHeight","width","flexDirection","map","x","visibility","props","poruka","name","price","item_id"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Item from \"./Item\"\r\nimport SearchBar from \"./SearchBar\";\r\nimport axios from \"axios\";\r\n\r\nclass Shop extends React.Component {\r\n\r\n    constructor() {\r\n        super();\r\n        this.state = {\r\n            items: [],\r\n            userId: window.localStorage.getItem(\"userId\"),\r\n            cartId: window.localStorage.getItem(\"cartId\"),\r\n            show: \"hidden\",\r\n            addedToCart:[]\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        axios\r\n            .get(\"http://localhost:8080/items\")\r\n            .then(res => {\r\n                console.log(res.data.success);\r\n                if (res.data.success) {\r\n                    console.log(res.data.data);\r\n                    this.setState({\r\n                        items: res.data.data\r\n                    })\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n    handleChange = () => {\r\n\r\n    }\r\n    addToCart = (itemId) => {\r\n        axios\r\n            .post(\"http://localhost:8080/cart/add\", {\r\n                cartId: this.state.cartId,\r\n                itemId: itemId\r\n            })\r\n            .then(res => {\r\n                if (res.data.success) {\r\n                    this.setState({\r\n                        show: \"visible\"\r\n                    })\r\n                    //stavimo u localstorage \r\n                    /*var names = [];\r\n                    names[0] = prompt(\"New member name?\");\r\n                    localStorage.setItem(\"names\", JSON.stringify(names));\r\n\r\n                    //...\r\n                    var storedNames = JSON.parse(localStorage.getItem(\"names\"));*/\r\n                    if(window.localStorage.getItem(\"addedToCart\") == null){\r\n                        var addedToCart = [];\r\n                        addedToCart[0] = res.data.data.insertId;\r\n                        localStorage.setItem(\"addedToCart\", JSON.stringify(addedToCart))\r\n                    }\r\n                   else{\r\n                       //dodamo u niz addedToCart novi id\r\n                       var novi = localStorage.getItem(\"addedToCart\").push(res.data.data.insertId);\r\n                       console.log(novi)\r\n                       localStorage.setItem(\"addedToCart\", JSON.stringify(novi));\r\n                   }\r\n                }\r\n            })\r\n            .catch(err => {\r\n                console.log(err);\r\n            })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <>\r\n                <Header />\r\n                <div className=\"container-fluid\"\r\n                    style={{\r\n                        backgroundColor: \"#efefef\",\r\n                        fontFamily: \"-apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif\",\r\n                        minHeight: \"calc(100vh - 80px)\"\r\n                    }}>\r\n                    <div className=\"d-flex justify-content-center\" style={{ width: \"100%\" }}>\r\n                        <div className=\"d-flex align-items-center\" style={{ flexDirection: \"column\" }}>\r\n                            <br></br>\r\n                            <SearchBar onChange={this.handleChange} />\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"row mt-5 mx-2\">\r\n                        {this.state.items.map(x =>\r\n                            <>\r\n                                <div class=\"valid-feedback\" style={{ visibility: this.props.poruka, backgroundColor: \"white\", width: \"300px\" }}>Successfully added to cart.</div>\r\n                                <Item itemName={x.name} itemPrice={x.price + \"$\"} value=\"ADD TO CART\" onClick={() => this.addToCart(x.item_id)} />\r\n                            </>\r\n                        )}\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <Footer />\r\n            </>\r\n        );\r\n    }\r\n}\r\n\r\nexport default Shop;"]},"metadata":{},"sourceType":"module"}